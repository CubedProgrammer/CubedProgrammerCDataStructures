#ifndef __cplusplus
#ifndef INCLUDED_CPCDS_VECTOR_MAKER_H
#define INCLUDED_CPCDS_VECTOR_MAKER_H
#define __CPCDS_DEFAULT_VR 10
#define define_cpcds_vmk(name,__t__)struct cpcds_vector_##name{__t__*pointer;size_t size;size_t room;};typedef struct cpcds_vector_##name cpcds_vector_##name;cpcds_vector_##name cpcds_mk_vec_room_##name(size_t size){cpcds_vector_##name vec;__t__*ptr=(__t__*)calloc(size,sizeof(__t__));vec.pointer=ptr;vec.room=size;vec.size=0;return vec;}cpcds_vector_##name cpcds_mk_vec_default_##name(){return cpcds_mk_vec_room_##name(__CPCDS_DEFAULT_VR);}cpcds_vector_##name cpcds_mk_vec_array_##name(__t__*first,__t__*last){cpcds_vector_##name vec=cpcds_mk_vec_room_##name(last-first);vec.size=last-first;__t__*__it__=vec.pointer;while(first!=last){*__it__=*first;++__it__;++first;}return vec;}cpcds_vector_##name cpcds_mk_vec_copy_##name(cpcds_vector_##name*vec){cpcds_vector_##name cpy=cpcds_mk_vec_array_##name(vec->pointer,vec->pointer+vec->size);return cpy;}__t__ cpcds_vec_get_at_##name(cpcds_vector_##name*vec,size_t index){return vec->pointer[index];}void cpcds_vec_set_single_##name(cpcds_vector_##name*vec,size_t index,__t__ val){vec->pointer[index]=val;}void cpcds_vec_destr_##name(cpcds_vector_##name*vec){free(vec->pointer);free(vec);}void cpcds_vec_fill_range_##name(cpcds_vector_##name*vec,__t__ v,size_t index,size_t len){for(size_t i=0;i<len;i++){vec->pointer[i+index]=v;}}void cpcds_vec_set_array_##name(cpcds_vector_##name*vec,size_t ind,__t__*first,__t__*last){for(__t__*__it__=vec->pointer+ind;first!=last;++first,++__it__){*__it__=*first;}}cpcds_vector_##name cpcds_vec_slice_array_##name(cpcds_vector_##name*vec,size_t index,size_t len){return cpcds_mk_vec_array_##name(vec->pointer+index,vec->pointer+index+len);}void cpcds_vec_dealloc_##name(cpcds_vector_##name*vec,size_t size){__t__*tmp=malloc(size*sizeof(__t__));for(__t__*__ita__=tmp,*__itb__=vec->pointer;__ita__!=tmp+size;++__ita__,++__itb__){*__ita__=*__itb__;}free(vec->pointer);vec->pointer=tmp;vec->room=size;}
#define cpcds_vmk_define(__t__)define_cpcds_vmk(__t__,__t__)
#endif
#endif
